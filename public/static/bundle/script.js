(()=>{var t={484:function(t){t.exports=function(){"use strict";var t=6e4,e=36e5,n="millisecond",s="second",o="minute",i="hour",a="day",r="week",d="month",u="quarter",c="year",l="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(t,e,n){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(n)+t},P={s:v,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),s=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+v(s,2,"0")+":"+v(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var s=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(s,d),i=n-o<0,a=e.clone().add(s+(i?-1:1),d);return+(-(s+(n-o)/(i?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:d,y:c,w:r,d:a,D:l,h:i,m:o,s,ms:n,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",$={};$[y]=g;var _=function(t){return t instanceof b},S=function t(e,n,s){var o;if(!e)return y;if("string"==typeof e){var i=e.toLowerCase();$[i]&&(o=i),n&&($[i]=n,o=i);var a=e.split("-");if(!o&&a.length>1)return t(a[0])}else{var r=e.name;$[r]=e,o=r}return!s&&o&&(y=o),o||!s&&y},m=function(t,e){if(_(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new b(n)},T=P;T.l=S,T.i=_,T.w=function(t,e){return m(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var b=function(){function g(t){this.$L=S(t.locale,null,!0),this.parse(t)}var v=g.prototype;return v.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(T.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(p);if(s){var o=s[2]-1||0,i=(s[7]||"0").substring(0,3);return n?new Date(Date.UTC(s[1],o,s[3]||1,s[4]||0,s[5]||0,s[6]||0,i)):new Date(s[1],o,s[3]||1,s[4]||0,s[5]||0,s[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},v.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},v.$utils=function(){return T},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(t,e){var n=m(t);return this.startOf(e)<=n&&n<=this.endOf(e)},v.isAfter=function(t,e){return m(t)<this.startOf(e)},v.isBefore=function(t,e){return this.endOf(e)<m(t)},v.$g=function(t,e,n){return T.u(t)?this[e]:this.set(n,t)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(t,e){var n=this,u=!!T.u(e)||e,h=T.p(t),p=function(t,e){var s=T.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return u?s:s.endOf(a)},f=function(t,e){return T.w(n.toDate()[t].apply(n.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,v=this.$M,P=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case c:return u?p(1,0):p(31,11);case d:return u?p(1,v):p(0,v+1);case r:var $=this.$locale().weekStart||0,_=(g<$?g+7:g)-$;return p(u?P-_:P+(6-_),v);case a:case l:return f(y+"Hours",0);case i:return f(y+"Minutes",1);case o:return f(y+"Seconds",2);case s:return f(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(t){return this.startOf(t,!1)},v.$set=function(t,e){var r,u=T.p(t),h="set"+(this.$u?"UTC":""),p=(r={},r[a]=h+"Date",r[l]=h+"Date",r[d]=h+"Month",r[c]=h+"FullYear",r[i]=h+"Hours",r[o]=h+"Minutes",r[s]=h+"Seconds",r[n]=h+"Milliseconds",r)[u],f=u===a?this.$D+(e-this.$W):e;if(u===d||u===c){var g=this.clone().set(l,1);g.$d[p](f),g.init(),this.$d=g.set(l,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},v.set=function(t,e){return this.clone().$set(t,e)},v.get=function(t){return this[T.p(t)]()},v.add=function(n,u){var l,h=this;n=Number(n);var p=T.p(u),f=function(t){var e=m(h);return T.w(e.date(e.date()+Math.round(t*n)),h)};if(p===d)return this.set(d,this.$M+n);if(p===c)return this.set(c,this.$y+n);if(p===a)return f(1);if(p===r)return f(7);var g=(l={},l[o]=t,l[i]=e,l[s]=1e3,l)[p]||1,v=this.$d.getTime()+n*g;return T.w(v,this)},v.subtract=function(t,e){return this.add(-1*t,e)},v.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var s=t||"YYYY-MM-DDTHH:mm:ssZ",o=T.z(this),i=this.$H,a=this.$m,r=this.$M,d=n.weekdays,u=n.months,c=function(t,n,o,i){return t&&(t[n]||t(e,s))||o[n].slice(0,i)},l=function(t){return T.s(i%12||12,t,"0")},p=n.meridiem||function(t,e,n){var s=t<12?"AM":"PM";return n?s.toLowerCase():s},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:r+1,MM:T.s(r+1,2,"0"),MMM:c(n.monthsShort,r,u,3),MMMM:c(u,r),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,d,2),ddd:c(n.weekdaysShort,this.$W,d,3),dddd:d[this.$W],H:String(i),HH:T.s(i,2,"0"),h:l(1),hh:l(2),a:p(i,a,!0),A:p(i,a,!1),m:String(a),mm:T.s(a,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:o};return s.replace(f,(function(t,e){return e||g[t]||o.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(n,l,h){var p,f=T.p(l),g=m(n),v=(g.utcOffset()-this.utcOffset())*t,P=this-g,y=T.m(this,g);return y=(p={},p[c]=y/12,p[d]=y,p[u]=y/3,p[r]=(P-v)/6048e5,p[a]=(P-v)/864e5,p[i]=P/e,p[o]=P/t,p[s]=P/1e3,p)[f]||P,h?y:T.a(y)},v.daysInMonth=function(){return this.endOf(d).$D},v.$locale=function(){return $[this.$L]},v.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),s=S(t,e,!0);return s&&(n.$L=s),n},v.clone=function(){return T.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),I=b.prototype;return m.prototype=I,[["$ms",n],["$s",s],["$m",o],["$H",i],["$W",a],["$M",d],["$y",c],["$D",l]].forEach((function(t){I[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),m.extend=function(t,e){return t.$i||(t(e,b,m),t.$i=!0),m},m.locale=S,m.isDayjs=_,m.unix=function(t){return m(1e3*t)},m.en=$[y],m.Ls=$,m.p={},m}()}},e={};function n(s){var o=e[s];if(void 0!==o)return o.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=function(){function t(t,e,n){this.$Nav=t,this.state=e,this.props=n,this.$NavContainer=this.$Nav.querySelector(".page-nav-tab"),this.$NavAddButton=this.$Nav.querySelector(".add-tab-button"),this.$NavCalenderButton=this.$Nav.querySelector(".calender-button"),this.$NavAddButton.addEventListener("click",this.props.addNewPage),this.setState(e)}return t.prototype.setState=function(t){this.state=t,this.render()},t.prototype.render=function(){var t=this,e=this.state,n=e.pageList,s=e.selectedPageId;this.$NavContainer.innerHTML="\n    ".concat(n.map((function(t,e){return"<div class='tab ".concat(s===t.id?"selected":"","' id=\"").concat(t.id,'">\n        <p>').concat(t.pageName,'</p>\n        <input class="tab-name-form" style="display:none" type="text" />\n        <div class="tab-delete-button" id="').concat(t.id,'">🗑</div>\n        </div>\n        ')})).join(""),"\n    "),this.$Nav.querySelectorAll(".tab").forEach((function(e){var n=e.childNodes[1],o=e.childNodes[3],i=e.childNodes[5],a=Number(i.id);i.addEventListener("click",(function(e){e.stopPropagation(),t.props.deletePage(a)})),e.addEventListener("click",(function(e){e.stopPropagation(),s!==a&&t.props.clickPageTab(a)})),e.addEventListener("dblclick",(function(e){e.stopPropagation(),n.style.display="none",o.style.display="",null==o||o.focus(),null==o||o.addEventListener("focusout",(function(e){n.style.display="",o.style.display="none",t.props.updateTab(a,o.value)}))})),i.addEventListener}))},t}();const e=t;var s={PAGE_LIST:"page_list",POSTIT_PAGE:"postit_page"};const o={STORAGE_KEYS:s,STATUS_TEXT:{todo:{color:"#778899",text:"TODO"},doing:{color:"#1b64de",text:"DOING.."},done:{color:"#035400",text:"DONE!"}},STATUS_CODE:{1:"todo",2:"doing",3:"done",todo:1,doing:2,done:3},STATUS_BG_COLOR:{todo:"#fff6c1",doing:"#bdcfe4",done:"#94dbc5"}};function i(t,e){var n=JSON.stringify(e);localStorage.setItem(t,n)}function a(t){return JSON.parse(localStorage.getItem(t))}var r=n(484),d=n.n(r);function u(t){if("postit-delete-button"!==t.target.className){document.addEventListener("mousemove",c);var e=t.target.parentElement,n=document.querySelectorAll(".postit"),s=e.classList;if(!s.contains("hold")){var o=t.clientX,i=t.clientY,a=e.getBoundingClientRect(),r=o-a.x,d=i-a.y;e.setAttribute("gap-x",String(r)),e.setAttribute("gap-y",String(d));var u=String((n.length>0?Math.max.apply(null,Array.from(n).map((function(t){return Number(t.getAttribute("priority"))}))):9999)+1);e.setAttribute("priority",u),e.style.zIndex=u,s.add("hold")}}}function c(t){t.preventDefault();var e=document.querySelector(".postit.hold");if(e){var n=t.clientX,s=t.clientY,o=e.getAttribute("gap-x"),i=e.getAttribute("gap-y"),a=n-Number(o),r=s-Number(i);e.style.left=a+"px",e.style.top=r+"px"}}const l=function(t,e,n){var s,i,a,r=this;this.setState=function(t){r.state=t,r.props.setBgColor(r.state),r.props.setTextColor(r.state),r.props.updateStatus(r.state)},this.$ProgressToggle=t,this.state=e,this.props=n,this.$ProgressToggle.value=String(o.STATUS_CODE[e]),null===(s=this.$ProgressToggle)||void 0===s||s.addEventListener("mousedown",(function(t){return t.stopPropagation()})),null===(i=this.$ProgressToggle)||void 0===i||i.addEventListener("mouseup",(function(t){return t.stopPropagation()})),null===(a=this.$ProgressToggle)||void 0===a||a.addEventListener("change",(function(t){var e;return r.setState(null===(e=r.$ProgressToggle)||void 0===e?void 0:e.value)}))},h=function(){function t(t,e){var n=t.postit_id,s=t.contents,i=void 0===s?"":s,a=t.status,r=t.pos_X,u=t.pos_Y,c=t.created_date,h=t.doing_date,p=t.done_date,f=this;this.dbClickPostit=function(t){var e,n=t.target,s=null===(e=n.parentElement)||void 0===e?void 0:e.querySelector(".postit-contents-form");s.style.display="",n.style.display="none",null==s||s.focus(),null==s||s.addEventListener("focusout",(function(t){n.style.display="",s.style.display="none",f.setContetns(s.value)}))},this.setContetns=function(t){f.$PostItContents.innerHTML="".concat(t),f.state.contents=t,f.props.updatePostit()},this.updateStatus=function(t){var e=o.STATUS_CODE[t];f.state.status=e;var n=d()().format("YYYY-MM-DD HH:mm");switch(e){case"todo":f.state.doing_date=null,f.state.done_date=null;break;case"doing":f.state.doing_date=n,f.state.done_date&&(f.state.done_date=null);break;case"done":f.state.done_date=n,f.state.doing_date||(f.state.doing_date=n)}f.props.updatePostit(),f.props.reRenderPage({})},this.setBgColor=function(t){var e=o.STATUS_CODE[t];f.$Postit.style.backgroundColor=o.STATUS_BG_COLOR[e],f.props.updatePostit()},this.setTextColor=function(t){var e=o.STATUS_CODE[t];f.$PostItStatus.innerText=o.STATUS_TEXT[e].text,f.$PostItStatus.style.color=o.STATUS_TEXT[e].color},this.state={postit_id:n,contents:i,status:a,pos_X:r,pos_Y:u,created_date:c,doing_date:h,done_date:p},this.props=e,this.$Postit=document.createElement("div"),this.$Postit.classList.add("postit"),this.$Postit.id=String(n),this.$Postit.style.left=r+"px",this.$Postit.style.top=u+"px",this.$Postit.style.background=o.STATUS_BG_COLOR[this.state.status],this.$Postit.innerHTML='\n      <div class="postit-top-area">\n        <div class="postit-status"></div>\n        <input\n          class="process-toggle-button"\n          type="range"\n          id="RangeFilter"\n          min="1"\n          max="3"\n          value="1"\n          style=""\n        />\n        <div class="postit-delete-button">🗑</div>\n      </div>\n      <pre class="postit-contents-area">'.concat(i,'</pre>\n      <textarea class="postit-contents-form" value="').concat(i,'" style="display: none;"></textarea>\n    '),this.$PostItContents=this.$Postit.querySelector(".postit-contents-area"),this.$PostItForm=this.$Postit.querySelector(".postit-contents-form"),this.$PostItForm.value=i,this.$PostItContents.addEventListener("dblclick",this.dbClickPostit),this.dbClickPostit=this.dbClickPostit.bind(this),this.setContetns=this.setContetns.bind(this),this.$PostItStatus=this.$Postit.querySelector(".postit-status"),this.$PostItStatus.innerText=o.STATUS_TEXT[this.state.status].text,this.$PostItStatus.style.color=o.STATUS_TEXT[this.state.status].color,this.$PostItDeleteButton=this.$Postit.querySelector(".postit-delete-button"),this.$PostItDeleteButton.addEventListener("mouseup",(function(t){return t.stopPropagation()})),this.$PostItDeleteButton.addEventListener("click",(function(t){t.stopPropagation(),f.props.deletePostit(t,f.state.postit_id)})),this.processToggle=new l(this.$Postit.querySelector(".process-toggle-button"),this.state.status,{setBgColor:this.setBgColor,setTextColor:this.setTextColor,updateStatus:this.updateStatus})}return t.prototype.setState=function(){this.render()},t.prototype.getState=function(){},t.prototype.render=function(){this.$Postit},t}();var p=function(){function t(t,e,n){var o=this;this.postitList=[],this.postitLastId=1,this.addNewPostIt=function(t){var e=t.clientX,n=t.clientY,a=Number(t.dataTransfer.getData("startX")),r=Number(t.dataTransfer.getData("startY")),u=new h({postit_id:(o.postitLastId+=1,o.postitLastId),status:"todo",pos_X:e-a,pos_Y:n-r,created_date:d()().format("YYYY-MM-DD HH:mm"),doing_date:null,done_date:null},{updatePostit:o.updatePostit,deletePostit:o.deletePostit,reRenderPage:o.props.reRenderPage});o.postitLastId=o.postitList.push(u),i("".concat(s.POSTIT_PAGE,"_").concat(o.state.selectedPageId),o.postitList),o.setState(o.state),o.props.reRenderPage(o.state)},this.deletePostit=function(t,e){t.stopPropagation(),t.preventDefault();var n=o.postitList.findIndex((function(t){return t.state.postit_id===e}));-1!==n&&o.postitList.splice(n,1)[0].$Postit.remove(),i("".concat(s.POSTIT_PAGE,"_").concat(o.state.selectedPageId),o.postitList)},this.$Page=t,this.state=e,this.props=n,this.addNewPostIt=this.addNewPostIt.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.updatePostit=this.updatePostit.bind(this),this.setState=this.setState.bind(this),this.$PostItContainer=this.$Page.querySelector(".postit-container"),this.$PostItBody=this.$Page.querySelector(".postit-body"),document.addEventListener("dragstart",(function(t){t.dataTransfer.setData("startX","".concat(t.clientX-22)),t.dataTransfer.setData("startY","".concat(t.clientY-74))})),document.addEventListener("dragover",(function(t){return t.preventDefault()})),document.addEventListener("drop",this.addNewPostIt),this.setState(e)}return t.prototype.fetchData=function(t){var e=this,n=a("".concat(s.POSTIT_PAGE,"_").concat(t));n||(i("".concat(s.POSTIT_PAGE,"_").concat(t),[]),n=[]);var o=n.length,r=0,d=0;this.postitList=n.map((function(t){switch(t.state.postit_id>e.postitLastId&&(e.postitLastId=t.state.postit_id),t.state.status){case"doing":r++;break;case"done":d++}return new h({postit_id:t.state.postit_id,status:t.state.status,contents:t.state.contents,pos_X:t.state.pos_X,pos_Y:t.state.pos_Y,created_date:t.state.created_date,doing_date:t.state.doing_date,done_date:t.state.done_date},{updatePostit:e.updatePostit,deletePostit:e.deletePostit,reRenderPage:e.props.reRenderPage})})),this.state.selectedPageInfo.totalCount=o,this.state.selectedPageInfo.doingCount=r,this.state.selectedPageInfo.doneCount=d},t.prototype.setState=function(t){this.state=t,this.fetchData(this.state.selectedPageId),this.render()},t.prototype.render=function(){var t=this;this.$PostItBody.innerHTML="",this.postitList.forEach((function(e,n){t.$PostItBody.appendChild(e.$Postit)})),this.drowPostit()},t.prototype.drowPostit=function(){var t=this;document.querySelectorAll(".postit").forEach((function(e,n){var s=e.getAttribute("priority");s||(s=n+1,e.setAttribute("priority",s)),e.style["z-index"]=s,e.addEventListener("mousedown",u),e.addEventListener("mouseup",t.handleMouseUp)}))},t.prototype.updatePostit=function(){i("".concat(s.POSTIT_PAGE,"_").concat(this.state.selectedPageId),this.postitList)},t.prototype.handleMouseUp=function(t){t.preventDefault();var e=t.target.parentElement,n=e.id,o=e.style,a=this.postitList.find((function(t){return t.state.postit_id===Number(n)}));if(a){a.state.pos_X=parseInt(o.left),a.state.pos_Y=parseInt(o.top),i("".concat(s.POSTIT_PAGE,"_").concat(this.state.selectedPageId),this.postitList),document.removeEventListener("mousemove",c);var r=document.querySelector(".postit.hold");r&&(r.removeAttribute("gap-x"),r.removeAttribute("gap-y"),r.classList.remove("hold"))}},t}();const f=p;var g=function(){function t(t,e){var n=this;this.donePercent=0,this.doingPercent=0,this.fetchProcess=function(){var t=n.state.selectedPageInfo,e=t.totalCount,s=t.doingCount,o=t.doneCount;n.doingPercent=e?s/e*100:0,n.donePercent=e?o/e*100:0},this.setState=function(t){n.state=t,n.fetchProcess(),n.render()},this.$ProgressBar=t,this.$Doing=this.$ProgressBar.querySelector(".progress-doing"),this.$Done=this.$ProgressBar.querySelector(".progress-done"),this.$DoneRate=this.$ProgressBar.querySelector(".done-rate"),this.state=e,this.setState(e)}return t.prototype.render=function(){this.$DoneRate.innerText=Math.floor(this.donePercent)+"% 완료",this.$Doing.style.width=this.doingPercent+"%",this.$Done.style.width=this.donePercent+"%"},t}();const v=g;const P=function(){var t=this;this.monthEndDay=[31,28,31,30,31,30,31,31,30,31,30,31],this.state={postitList:[],monthList:[]},this.show=function(){return e=t,n=void 0,o=function(){return function(t,e){var n,s,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(o=2&i[0]?s.return:i[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;switch(s=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],s=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}}(this,(function(t){switch(t.label){case 0:return[4,this.fetchData()];case 1:return t.sent(),this.$CalenderModal.style.display="",this.$CalenderModalDimmed.style.display="",[2]}}))},new((s=void 0)||(s=Promise))((function(t,i){function a(t){try{d(o.next(t))}catch(t){i(t)}}function r(t){try{d(o.throw(t))}catch(t){i(t)}}function d(e){var n;e.done?t(e.value):(n=e.value,n instanceof s?n:new s((function(t){t(n)}))).then(a,r)}d((o=o.apply(e,n||[])).next())}));var e,n,s,o},this.hide=function(){t.$CalenderModal.style.display="none",t.$CalenderModalDimmed.style.display="none"},this.fetchData=function(){a(s.PAGE_LIST).forEach((function(e){a("".concat(s.POSTIT_PAGE,"_").concat(e.id)).forEach((function(e){var n=e.state;t.state.postitList.push(n)}))})),t.state.postitList.sort((function(t,e){return t.created_date-e.created_date})),t.monthEndDay.forEach((function(t){})),t.render()},this.render=function(){},this.checkLeapYear=function(t){return t%400==0||t%100!=0&&t%4==0},this.getFirstDayOfWeek=function(t,e){return e<10&&(e="0"+e),new Date(t+"-"+e+"-01").getDay()},this.changeYearMonth=function(t,e){},this.$CalenderModal=document.querySelector(".calender-modal"),this.$CalenderModalDimmed=document.querySelector(".calender-dimmed"),this.$CalenderCloseButton=this.$CalenderModal.querySelector(".modal-close-button"),this.$CalenderModalDimmed.addEventListener("click",this.hide),this.$CalenderCloseButton.addEventListener("click",this.hide)};var y=function(){return y=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},y.apply(this,arguments)};const $=function(t,n){var o=this;this.addNewPage=function(){var t=o.state,e=t.pageList,n=t.maxPageId,a=(o.state=y(y({},o.state),{maxPageId:n+1}),o.state.maxPageId);e.push({id:a,pageName:"untitled_".concat(a),totalCount:0,doingCount:0,doneCount:0}),o.state.selectedPageId=o.state.maxPageId,i(s.PAGE_LIST,e),o.setState(o.state)},this.updateTab=function(t,e){if(e){var n=o.state.pageList.find((function(e){return e.id===t}));n.pageName=e;var a=y(y({},o.state),{selectedPageInfo:n});i(s.PAGE_LIST,o.state.pageList),o.setState(a)}},this.deletePage=function(t){var e=o.state,n=e.pageList,a=e.selectedPageId,r=n.findIndex((function(e){return e.id===t}));if(a===t){if(1===n.length)return void alert("마지막 페이지는 삭제할 수 없습니다.");o.state.selectedPageId=n[r-1].id}var d,u=n.splice(r,1)[0];i(s.PAGE_LIST,n),d="".concat(s.POSTIT_PAGE,"_").concat(u.id),localStorage.removeItem(d),o.setState(o.state)},this.clickPageTab=function(t){var e=y(y({},o.state),{selectedPageId:t,selectedPageInfo:o.state.pageList.find((function(e){return e.id===t}))});o.setState(e)},this.setState=function(t){o.state=y(y({},o.state),t),o.NavComponent.setState(o.state),o.BodyComponent.setState(o.state),o.ProgressBarComponent.setState(o.state)},this.$App=t,this.state=n,this.HeaderComponent=this.$App.querySelector(".postit-header"),this.$CalenderButton=this.$App.querySelector(".calender-button"),this.NavComponent=new e(this.$App.querySelector(".postit-page-nav"),this.state,{addNewPage:this.addNewPage,deletePage:this.deletePage,clickPageTab:this.clickPageTab,updateTab:this.updateTab}),this.BodyComponent=new f(this.$App.querySelector(".postit-body-page"),this.state,{reRenderPage:this.setState}),this.ProgressBarComponent=new v(this.$App.querySelector(".postit-progress-bar"),this.state),this.CalenderComponent=new P,this.$CalenderButton.addEventListener("click",(function(t){o.CalenderComponent.show()}))};i(s.PAGE_LIST,[{id:1,pageName:"포스트잇 개발",totalCount:1,doingCount:0,doneCount:0}]),i("".concat(s.POSTIT_PAGE,"_").concat(1),[{state:{postit_id:10,contents:"\n메인페이지 개발\n- 네비\n- 메인\n- 모달",status:"done",pos_X:909,pos_Y:126,created_date:"2022-03-10 21:36",doing_date:"2022-03-11 21:37",done_date:"2022-03-18 21:43"}},{state:{postit_id:11,contents:"\n프로세스바 개발\n- 포스트잇 삭제\n- 포스트잇 수정\n- 포스트잇 추가",status:"done",pos_X:1022,pos_Y:311,created_date:"2022-03-012 21:36",doing_date:"2022-04-01 21:37",done_date:"2022-04-10 21:43"}},{state:{postit_id:12,contents:"\n캘린더 개발\n- Fetch데이터\n- 가로로 그리기",status:"done",pos_X:975,pos_Y:200,created_date:"2022-04-20 21:37",doing_date:"2022-04-20 21:37",done_date:"2022-04-20 21:43"}},{state:{postit_id:15,contents:"\n애니메이션 개선\n\n- 포스트잇 상태 변경 \n배경변경 애니메이션\n- 코드 리팩토링",status:"todo",pos_X:298,pos_Y:144,created_date:"2022-03-20 21:37",doing_date:null,done_date:null}},{state:{postit_id:16,contents:"\n타입스크립트 공부하기",status:"doing",pos_X:577,pos_Y:141,created_date:"2022-03-20 21:37",doing_date:"2022-04-01 21:43",done_date:null}},{state:{postit_id:18,contents:"리엑트 & Nextjs\n공부하기",status:"doing",pos_X:671,pos_Y:328,created_date:"2022-04-10 21:37",doing_date:"2022-04-20 21:43",done_date:null}},{state:{postit_id:20,contents:"\n디자인 & 기능 개선\n\n- 앱 전반적인 디자인\n- 포스트잇 토글 디자인\n- 추가 기능들?",status:"todo",pos_X:335,pos_Y:272,created_date:"2022-04-20 21:38",doing_date:null,done_date:null}}]);var _,S=document.querySelector(".app"),m={pageList:[]};(_=a(s.PAGE_LIST))||i(s.PAGE_LIST,_=[{id:1,pageName:"untitled",totalCount:0,doingCount:0,doneCount:0}]),m.pageList=_,m.lastPageId=_[_.length-1].id,m.selectedPageId=_[_.length-1].id,m.selectedPageInfo=_[_.length-1],m.maxPageId=Math.max.apply(Math,_.map((function(t){return t.id}))),new $(S,m)})()})();