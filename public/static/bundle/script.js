(()=>{"use strict";var t=function(){function t(t,e,a){this.$Nav=t,this.state=e,this.props=a,this.$NavContainer=this.$Nav.querySelector(".page-nav-tab"),this.$NavAddButton=this.$Nav.querySelector(".add-tab-button"),this.$NavAddButton.addEventListener("click",this.props.addNewPage),this.setState(e)}return t.prototype.setState=function(t){this.state=t,this.render()},t.prototype.render=function(){var t=this,e=this.state,a=e.pageList,n=e.selectedPageId;this.$NavContainer.innerHTML="\n    ".concat(a.map((function(t,e){return"<div class='tab ".concat(n===t.id?"selected":"","'>\n        ").concat(t.page_name,'\n        <div class="tab-delete-button" id="').concat(t.id,'">ðŸ—‘</div>\n        </div>')})).join(""),"\n    "),this.$Nav.querySelectorAll(".tab").forEach((function(e){var a=e.childNodes[1];a.addEventListener("click",(function(){return t.props.deletePage(Number(a.id))}))}))},t}();const e=t;var a=function(){function t(t,e,a){this.$Page=t,this.state=e,this.props=a,this.setState(e)}return t.prototype.setState=function(t){this.state=t,this.render()},t.prototype.render=function(){},t}();const n=a;var i="page_list";function s(t,e){var a=JSON.stringify(e);localStorage.setItem(t,a)}var o=function(){return o=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var i in e=arguments[a])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};const r=function(t,a){var r=this;this.addNewPage=function(){var t=r.state,e=t.pageList,a=t.maxPageId;e.push({id:(r.state=o(o({},r.state),{maxPageId:a+1}),r.state.maxPageId),page_name:"untitled",total_count:0,todo_count:0,ing_count:0,complete_count:0}),r.state.selectedPageId=r.state.maxPageId,s(i,e),r.NavComponent.setState(r.state)},this.deletePage=function(t){var e=r.state.pageList,a=e.findIndex((function(e){return e.id===t}));e.splice(a,1),s(i,e),r.NavComponent.setState(r.state)},this.$App=t,this.state=a,this.HeaderComponent=this.$App.querySelector(".postit-header"),this.NavComponent=new e(this.$App.querySelector(".postit-page-nav"),this.state,{addNewPage:this.addNewPage,deletePage:this.deletePage}),this.BodyComponent=new n(this.$App.querySelector(".postit-body-page"),this.state,{})};var c,d,p=document.querySelector(".app"),u={};d=i,(c=JSON.parse(localStorage.getItem(d)))||s(i,c=[{id:1,page_name:"untitled",total_count:0,todo_count:0,ing_count:0,complete_count:0}]),u.pageList=c,u.lastPageId=c[c.length-1].id,u.selectedPageId=c[c.length-1].id,u.maxPageId=Math.max.apply(Math,c.map((function(t){return t.id}))),new r(p,u)})();