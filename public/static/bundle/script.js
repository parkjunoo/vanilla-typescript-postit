(()=>{"use strict";const t=function(){function t(t){this.$postit_stk=t,this.drawPostits()}return t.prototype.drawPostits=function(){},t}();const e=function(t){this.pageList=[],this.$Page=t.querySelector(".main-section");var e=localStorage.getItem("page_list");e&&(this.pageList=JSON.parse(e))},i=function(){function t(t){this.navList=[],this.last_page_id=0,this.$Nav=t,this.$NavPages=this.$Nav.querySelector(".page-nav-tab"),this.$NavAddButton=this.$Nav.querySelector(".add-tab-button"),this.addNewPage=this.addNewPage.bind(this),this.drowNav=this.drowNav.bind(this),this.deletePage=this.deletePage.bind(this),this.initNav()}return t.prototype.initNav=function(){this.fetchData(),this.$NavAddButton.addEventListener("click",this.addNewPage),this.drowNav()},t.prototype.fetchData=function(){var t=localStorage.getItem("page_list");t&&(this.navList=JSON.parse(t),this.last_page_id=this.navList[this.navList.length-1].page_id)},t.prototype.addNewPage=function(){this.navList.push({page_id:this.last_page_id+1,page_name:"untitled",total_count:0,todo_count:0,ing_count:0,complete_count:0}),this.drowNav()},t.prototype.deletePage=function(t){var e=t.target.id,i=this.navList.findIndex((function(t,i){return String(t.page_id)===e}));this.navList.splice(i,1),this.drowNav()},t.prototype.drowNav=function(){var t=this;this.$NavPages.innerHTML="\n    ".concat(this.navList.map((function(t,e){return"<div class='tab'>\n        ".concat(t.page_name,'\n        <div class="tab-delete-button" id="').concat(t.page_id,'">🗑</div>\n        </div>')})).join(""),"\n    "),this.$NavPages.querySelectorAll(".tab-delete-button").forEach((function(e,i){return e.addEventListener("click",t.deletePage)}))},t}();var a={page_id:1,page_name:"개발공부",postit_list:[{postit_id:1,contents:"안녕하세요 포스트1111이에요.",status:"ing",pos_X:100,pos_Y:200},{postit_id:2,contents:"안녕하세요 포스트2222이에요.",status:"todo",pos_X:300,pos_Y:200},{postit_id:3,contents:"안녕하세요 포스트3333이에요.",status:"complete",pos_X:500,pos_Y:200}],total_count:3,todo_count:1,ing_count:1,complete_count:1};localStorage.setItem("page_list",JSON.stringify([{page_id:1,page_name:"개발공부",total_count:3,todo_count:1,ing_count:1,complete_count:1},{page_id:2,page_name:"블로그 쓰기",total_count:3,todo_count:1,ing_count:1,complete_count:1}])),localStorage.setItem("postit_page_1",JSON.stringify(a)),localStorage.setItem("postit_page_2",JSON.stringify(a));var o=document.querySelector(".app"),n=document.querySelector(".postit-stk"),s=document.querySelector(".page-nav");new e(o),new t(n),new i(s)})();