(()=>{var t={484:function(t){t.exports=function(){"use strict";var t=6e4,e=36e5,n="millisecond",s="second",a="minute",o="hour",i="day",r="week",d="month",c="quarter",u="year",l="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,n){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),s=Math.floor(n/60),a=n%60;return(e<=0?"+":"-")+m(s,2,"0")+":"+m(a,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var s=12*(n.year()-e.year())+(n.month()-e.month()),a=e.clone().add(s,d),o=n-a<0,i=e.clone().add(s+(o?-1:1),d);return+(-(s+(n-a)/(o?a-i:i-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:d,y:u,w:r,d:i,D:l,h:o,m:a,s,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",$={};$[y]=g;var S=function(t){return t instanceof b},P=function t(e,n,s){var a;if(!e)return y;if("string"==typeof e){var o=e.toLowerCase();$[o]&&(a=o),n&&($[o]=n,a=o);var i=e.split("-");if(!a&&i.length>1)return t(i[0])}else{var r=e.name;$[r]=e,a=r}return!s&&a&&(y=a),a||!s&&y},_=function(t,e){if(S(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new b(n)},T=v;T.l=P,T.i=S,T.w=function(t,e){return _(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var b=function(){function g(t){this.$L=P(t.locale,null,!0),this.parse(t)}var m=g.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(T.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(p);if(s){var a=s[2]-1||0,o=(s[7]||"0").substring(0,3);return n?new Date(Date.UTC(s[1],a,s[3]||1,s[4]||0,s[5]||0,s[6]||0,o)):new Date(s[1],a,s[3]||1,s[4]||0,s[5]||0,s[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return T},m.isValid=function(){return!(this.$d.toString()===h)},m.isSame=function(t,e){var n=_(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return _(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<_(t)},m.$g=function(t,e,n){return T.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,c=!!T.u(e)||e,h=T.p(t),p=function(t,e){var s=T.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?s:s.endOf(i)},f=function(t,e){return T.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,m=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case u:return c?p(1,0):p(31,11);case d:return c?p(1,m):p(0,m+1);case r:var $=this.$locale().weekStart||0,S=(g<$?g+7:g)-$;return p(c?v-S:v+(6-S),m);case i:case l:return f(y+"Hours",0);case o:return f(y+"Minutes",1);case a:return f(y+"Seconds",2);case s:return f(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var r,c=T.p(t),h="set"+(this.$u?"UTC":""),p=(r={},r[i]=h+"Date",r[l]=h+"Date",r[d]=h+"Month",r[u]=h+"FullYear",r[o]=h+"Hours",r[a]=h+"Minutes",r[s]=h+"Seconds",r[n]=h+"Milliseconds",r)[c],f=c===i?this.$D+(e-this.$W):e;if(c===d||c===u){var g=this.clone().set(l,1);g.$d[p](f),g.init(),this.$d=g.set(l,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[T.p(t)]()},m.add=function(n,c){var l,h=this;n=Number(n);var p=T.p(c),f=function(t){var e=_(h);return T.w(e.date(e.date()+Math.round(t*n)),h)};if(p===d)return this.set(d,this.$M+n);if(p===u)return this.set(u,this.$y+n);if(p===i)return f(1);if(p===r)return f(7);var g=(l={},l[a]=t,l[o]=e,l[s]=1e3,l)[p]||1,m=this.$d.getTime()+n*g;return T.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var s=t||"YYYY-MM-DDTHH:mm:ssZ",a=T.z(this),o=this.$H,i=this.$m,r=this.$M,d=n.weekdays,c=n.months,u=function(t,n,a,o){return t&&(t[n]||t(e,s))||a[n].slice(0,o)},l=function(t){return T.s(o%12||12,t,"0")},p=n.meridiem||function(t,e,n){var s=t<12?"AM":"PM";return n?s.toLowerCase():s},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:r+1,MM:T.s(r+1,2,"0"),MMM:u(n.monthsShort,r,c,3),MMMM:u(c,r),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,d,2),ddd:u(n.weekdaysShort,this.$W,d,3),dddd:d[this.$W],H:String(o),HH:T.s(o,2,"0"),h:l(1),hh:l(2),a:p(o,i,!0),A:p(o,i,!1),m:String(i),mm:T.s(i,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:a};return s.replace(f,(function(t,e){return e||g[t]||a.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,l,h){var p,f=T.p(l),g=_(n),m=(g.utcOffset()-this.utcOffset())*t,v=this-g,y=T.m(this,g);return y=(p={},p[u]=y/12,p[d]=y,p[c]=y/3,p[r]=(v-m)/6048e5,p[i]=(v-m)/864e5,p[o]=v/e,p[a]=v/t,p[s]=v/1e3,p)[f]||v,h?y:T.a(y)},m.daysInMonth=function(){return this.endOf(d).$D},m.$locale=function(){return $[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),s=P(t,e,!0);return s&&(n.$L=s),n},m.clone=function(){return T.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),M=b.prototype;return _.prototype=M,[["$ms",n],["$s",s],["$m",a],["$H",o],["$W",i],["$M",d],["$y",u],["$D",l]].forEach((function(t){M[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),_.extend=function(t,e){return t.$i||(t(e,b,_),t.$i=!0),_},_.locale=P,_.isDayjs=S,_.unix=function(t){return _(1e3*t)},_.en=$[y],_.Ls=$,_.p={},_}()}},e={};function n(s){var a=e[s];if(void 0!==a)return a.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=function(){function t(t,e,n){this.$Nav=t,this.state=e,this.props=n,this.$NavContainer=this.$Nav.querySelector(".page-nav-tab"),this.$NavAddButton=this.$Nav.querySelector(".add-tab-button"),this.$NavCalenderButton=this.$Nav.querySelector(".calender-button"),this.$NavAddButton.addEventListener("click",this.props.addNewPage),this.setState(e)}return t.prototype.setState=function(t){this.state=t,this.render()},t.prototype.render=function(){var t=this,e=this.state,n=e.pageList,s=e.selectedPageId;this.$NavContainer.innerHTML="\n    ".concat(n.map((function(t,e){return"<div class='tab ".concat(s===t.id?"selected":"","' id=\"").concat(t.id,'">\n        <p>').concat(t.pageName,'</p>\n        <input class="tab-name-form" style="display:none" type="text" />\n        <div class="tab-delete-button" id="').concat(t.id,'">🗑</div>\n        </div>\n        ')})).join(""),"\n    "),this.$Nav.querySelectorAll(".tab").forEach((function(e){var n=e.childNodes[1],a=e.childNodes[3],o=e.childNodes[5],i=Number(o.id);o.addEventListener("click",(function(e){e.stopPropagation(),t.props.deletePage(i)})),e.addEventListener("click",(function(e){e.stopPropagation(),s!==i&&t.props.clickPageTab(i)})),e.addEventListener("dblclick",(function(e){e.stopPropagation(),n.style.display="none",a.style.display="",null==a||a.focus(),null==a||a.addEventListener("focusout",(function(e){n.style.display="",a.style.display="none",t.props.updateTab(i,a.value)}))})),o.addEventListener}))},t}();const e=t;var s={PAGE_LIST:"page_list",POSTIT_PAGE:"postit_page"};const a={STORAGE_KEYS:s,STATUS_TEXT:{todo:{color:"#778899",text:"TODO"},doing:{color:"#1b64de",text:"DOING.."},done:{color:"#035400",text:"DONE!"}},STATUS_CODE:{1:"todo",2:"doing",3:"done",todo:1,doing:2,done:3},STATUS_BG_COLOR:{todo:"#fff6c1",doing:"#bdcfe4",done:"#94dbc5"}};function o(t,e){var n=JSON.stringify(e);localStorage.setItem(t,n)}function i(t){return JSON.parse(localStorage.getItem(t))}var r=n(484),d=n.n(r);function c(t){if("postit-delete-button"!==t.target.className){document.addEventListener("mousemove",u);var e=t.target.parentElement,n=document.querySelectorAll(".postit"),s=e.classList;if(!s.contains("hold")){var a=t.clientX,o=t.clientY,i=e.getBoundingClientRect(),r=a-i.x,d=o-i.y;e.setAttribute("gap-x",String(r)),e.setAttribute("gap-y",String(d));var c=String((n.length>0?Math.max.apply(null,Array.from(n).map((function(t){return Number(t.getAttribute("priority"))}))):9999)+1);e.setAttribute("priority",c),e.style.zIndex=c,s.add("hold")}}}function u(t){t.preventDefault();var e=document.querySelector(".postit.hold");if(e){var n=t.clientX,s=t.clientY,a=e.getAttribute("gap-x"),o=e.getAttribute("gap-y"),i=n-Number(a),r=s-Number(o);e.style.left=i+"px",e.style.top=r+"px"}}const l=function(t,e,n){var s,o,i,r=this;this.setState=function(t){r.state=t,r.props.setBgColor(r.state),r.props.setTextColor(r.state),r.props.updateStatus(r.state)},this.$ProgressToggle=t,this.state=e,this.props=n,this.$ProgressToggle.value=String(a.STATUS_CODE[e]),null===(s=this.$ProgressToggle)||void 0===s||s.addEventListener("mousedown",(function(t){return t.stopPropagation()})),null===(o=this.$ProgressToggle)||void 0===o||o.addEventListener("mouseup",(function(t){return t.stopPropagation()})),null===(i=this.$ProgressToggle)||void 0===i||i.addEventListener("change",(function(t){var e;return r.setState(null===(e=r.$ProgressToggle)||void 0===e?void 0:e.value)}))},h=function(){function t(t,e){var n=t.postit_id,s=t.contents,o=void 0===s?"":s,i=t.status,r=t.pos_X,c=t.pos_Y,u=t.created_date,h=t.doing_date,p=t.done_date,f=t.pageId,g=t.pageName,m=this;this.dbClickPostit=function(t){var e,n=t.target,s=null===(e=n.parentElement)||void 0===e?void 0:e.querySelector(".postit-contents-form");s.style.display="",n.style.display="none",null==s||s.focus(),null==s||s.addEventListener("focusout",(function(t){n.style.display="",s.style.display="none",m.setContetns(s.value)}))},this.setContetns=function(t){m.$PostItContents.innerHTML="".concat(t),m.state.contents=t,m.props.updatePostit()},this.updateStatus=function(t){var e=a.STATUS_CODE[t];m.state.status=e;var n=d()().format("YYYY-MM-DD HH:mm");switch(e){case"todo":m.state.doing_date=null,m.state.done_date=null;break;case"doing":m.state.doing_date=n,m.state.done_date&&(m.state.done_date=null);break;case"done":m.state.done_date=n,m.state.doing_date||(m.state.doing_date=n)}m.props.updatePostit(),m.props.reRenderPage({})},this.setBgColor=function(t){var e=a.STATUS_CODE[t];m.$Postit.style.backgroundColor=a.STATUS_BG_COLOR[e],m.props.updatePostit()},this.setTextColor=function(t){var e=a.STATUS_CODE[t];m.$PostItStatus.innerText=a.STATUS_TEXT[e].text,m.$PostItStatus.style.color=a.STATUS_TEXT[e].color},this.state={postit_id:n,contents:o,status:i,pos_X:r,pos_Y:c,created_date:u,doing_date:h,done_date:p,pageId:f,pageName:g},this.props=e,this.$Postit=document.createElement("div"),this.$Postit.classList.add("postit"),this.$Postit.id=String(n),this.$Postit.style.left=r+"px",this.$Postit.style.top=c+"px",this.$Postit.style.background=a.STATUS_BG_COLOR[this.state.status],this.$Postit.innerHTML='\n      <div class="postit-top-area">\n        <div class="postit-status"></div>\n        <input\n          class="process-toggle-button"\n          type="range"\n          id="RangeFilter"\n          min="1"\n          max="3"\n          value="1"\n          style=""\n        />\n        <div class="postit-delete-button">🗑</div>\n      </div>\n      <pre class="postit-contents-area">'.concat(o,'</pre>\n      <textarea class="postit-contents-form" value="').concat(o,'" style="display: none;"></textarea>\n    '),this.$PostItContents=this.$Postit.querySelector(".postit-contents-area"),this.$PostItForm=this.$Postit.querySelector(".postit-contents-form"),this.$PostItForm.value=o,this.$PostItContents.addEventListener("dblclick",this.dbClickPostit),this.dbClickPostit=this.dbClickPostit.bind(this),this.setContetns=this.setContetns.bind(this),this.$PostItStatus=this.$Postit.querySelector(".postit-status"),this.$PostItStatus.innerText=a.STATUS_TEXT[this.state.status].text,this.$PostItStatus.style.color=a.STATUS_TEXT[this.state.status].color,this.$PostItDeleteButton=this.$Postit.querySelector(".postit-delete-button"),this.$PostItDeleteButton.addEventListener("mouseup",(function(t){return t.stopPropagation()})),this.$PostItDeleteButton.addEventListener("click",(function(t){t.stopPropagation(),m.props.deletePostit(t,m.state.postit_id)})),this.processToggle=new l(this.$Postit.querySelector(".process-toggle-button"),this.state.status,{setBgColor:this.setBgColor,setTextColor:this.setTextColor,updateStatus:this.updateStatus})}return t.prototype.setState=function(){this.render()},t.prototype.getState=function(){},t.prototype.render=function(){this.$Postit},t}();var p=function(){function t(t,e,n){var a=this;this.postitList=[],this.postitLastId=1,this.addNewPostIt=function(t){var e=t.clientX,n=t.clientY,i=Number(t.dataTransfer.getData("startX")),r=Number(t.dataTransfer.getData("startY")),c=new h({postit_id:(a.postitLastId+=1,a.postitLastId),status:"todo",pos_X:e-i,pos_Y:n-r,created_date:d()().format("YYYY-MM-DD HH:mm"),doing_date:null,done_date:null,pageId:a.state.selectedPageInfo.id,pageName:a.state.selectedPageInfo.pageName},{updatePostit:a.updatePostit,deletePostit:a.deletePostit,reRenderPage:a.props.reRenderPage});a.postitLastId=a.postitList.push(c),o("".concat(s.POSTIT_PAGE,"_").concat(a.state.selectedPageId),a.postitList),a.setState(a.state),a.props.reRenderPage(a.state)},this.deletePostit=function(t,e){t.stopPropagation(),t.preventDefault();var n=a.postitList.findIndex((function(t){return t.state.postit_id===e}));-1!==n&&a.postitList.splice(n,1)[0].$Postit.remove(),o("".concat(s.POSTIT_PAGE,"_").concat(a.state.selectedPageId),a.postitList),a.props.reRenderPage(a.state),a.render()},this.$Page=t,this.state=e,this.props=n,this.addNewPostIt=this.addNewPostIt.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.updatePostit=this.updatePostit.bind(this),this.setState=this.setState.bind(this),this.$PostItContainer=this.$Page.querySelector(".postit-container"),this.$PostItBody=this.$Page.querySelector(".postit-body"),document.addEventListener("dragstart",(function(t){t.dataTransfer.setData("startX","".concat(t.clientX-22)),t.dataTransfer.setData("startY","".concat(t.clientY-100))})),document.addEventListener("dragover",(function(t){return t.preventDefault()})),document.addEventListener("drop",this.addNewPostIt),this.setState(e)}return t.prototype.fetchData=function(t){var e=this,n=i("".concat(s.POSTIT_PAGE,"_").concat(t));n||(o("".concat(s.POSTIT_PAGE,"_").concat(t),[]),n=[]);var a=n.length,r=0,d=0;this.postitList=n.map((function(t){switch(t.state.postit_id>e.postitLastId&&(e.postitLastId=t.state.postit_id),t.state.status){case"doing":r++;break;case"done":d++}return new h({postit_id:t.state.postit_id,status:t.state.status,contents:t.state.contents,pos_X:t.state.pos_X,pos_Y:t.state.pos_Y,created_date:t.state.created_date,doing_date:t.state.doing_date,done_date:t.state.done_date,pageId:t.state.pageId,pageName:t.state.pageName},{updatePostit:e.updatePostit,deletePostit:e.deletePostit,reRenderPage:e.props.reRenderPage})})),this.state.selectedPageInfo.totalCount=a,this.state.selectedPageInfo.doingCount=r,this.state.selectedPageInfo.doneCount=d},t.prototype.setState=function(t){this.state=t,this.fetchData(this.state.selectedPageId),this.render()},t.prototype.render=function(){var t=this;this.$PostItBody.innerHTML="",this.postitList.forEach((function(e,n){t.$PostItBody.appendChild(e.$Postit)})),this.drowPostit()},t.prototype.drowPostit=function(){var t=this;document.querySelectorAll(".postit").forEach((function(e,n){var s=e.getAttribute("priority");s||(s=n+1,e.setAttribute("priority",s)),e.style["z-index"]=s,e.addEventListener("mousedown",c),e.addEventListener("mouseup",t.handleMouseUp)}))},t.prototype.updatePostit=function(){o("".concat(s.POSTIT_PAGE,"_").concat(this.state.selectedPageId),this.postitList)},t.prototype.handleMouseUp=function(t){t.preventDefault();var e=t.target.parentElement,n=e.id,a=e.style,i=this.postitList.find((function(t){return t.state.postit_id===Number(n)}));if(i){i.state.pos_X=parseInt(a.left),i.state.pos_Y=parseInt(a.top),o("".concat(s.POSTIT_PAGE,"_").concat(this.state.selectedPageId),this.postitList),document.removeEventListener("mousemove",u);var r=document.querySelector(".postit.hold");r&&(r.removeAttribute("gap-x"),r.removeAttribute("gap-y"),r.classList.remove("hold"))}},t}();const f=p;var g=function(){function t(t,e){var n=this;this.donePercent=0,this.doingPercent=0,this.fetchProcess=function(){var t=n.state.selectedPageInfo,e=t.totalCount,s=t.doingCount,a=t.doneCount;n.doingPercent=e?s/e*100:0,n.donePercent=e?a/e*100:0},this.setState=function(t){n.state=t,n.fetchProcess(),n.render()},this.$ProgressBar=t,this.$Doing=this.$ProgressBar.querySelector(".progress-doing"),this.$Done=this.$ProgressBar.querySelector(".progress-done"),this.$DoneRate=this.$ProgressBar.querySelector(".done-rate"),this.state=e,this.setState(e)}return t.prototype.render=function(){this.$DoneRate.innerText=Math.floor(this.donePercent)+"% 완료",this.$Doing.style.width=this.doingPercent+"%",this.$Done.style.width=this.donePercent+"%"},t}();const m=g,v=function(t,e,n,s){var a=this;this.domState={},this.checkSchedule=function(t,e){var n=d()().format("YYYY-MM-DD"),s=d()(t.created_date).format("YYYY-MM-DD"),o=d()(t.done_date).format("YYYY-MM-DD"),i=d()(s).diff(a.date,"day"),r=d()(o).diff(a.date,"day"),c=d()(a.date).diff(n,"day");return!(!(i<=0)||c>0||!isNaN(r)&&r<=0&&0!==r)},this.setColor=function(t){var e=a.date.split("-"),n=e[0],s=e[1],o=e[2];a.domState.color="#ffe200",a.domState.start="0",a.domState.end="0";var i=d()(t.created_date).diff("".concat(n,"-").concat(s,"-").concat(o),"day"),r=d()(t.doing_date).diff("".concat(n,"-").concat(s,"-").concat(o),"day"),c=d()(t.done_date).diff("".concat(n,"-").concat(s,"-").concat(o),"day");i<=0&&(a.domState.color="#ffe200",0===i&&(a.domState.star=5)),!isNaN(r)&&r<=0&&(a.domState.color="#0152cc"),!isNaN(c)&&c<=0&&(a.domState.color="#34b37e",0===c&&(a.domState.end=5))},this.goToPage=function(t,e){console.log(t,e),a.props.clickPageTab(t),a.props.modalHide()},this.getDailyElement=function(){var t=d()().format("YYYY-MM-DD");return a.$dailyElement.innerHTML='\n      <div class="date" style="background-color:'.concat(0===d()(a.date).diff(t,"day")?"#fff6c1":"#fff",';">').concat(a.date.split("-")[2],"</div>\n    "),a.postitList.forEach((function(t,e){var n=a.checkSchedule(t,e);a.setColor(t);var s=n?a.domState.color:"#fff",o=document.createElement("div");if(o.classList.add("date-contents"),o.style.backgroundColor=n?"#d0cfcf":"#fff",n){var i="Page: [".concat(t.pageName,"]\n\n").concat(t.contents);o.setAttribute("postit-content",i),o.classList.add("title")}o.style.borderStartStartRadius=a.domState.start+"px",o.style.borderEndEndRadius=a.domState.end+"px",o.innerHTML='\n        <div class="daily-state" style="border-top: 3px solid '.concat(s,';" ></div>\n      '),o.addEventListener("click",(function(){return a.goToPage(t.pageId,t.postit_id)})),a.$dailyElement.appendChild(o)})),a.$dailyElement},this.date=t,this.$dailyElement=document.createElement("li"),this.$dailyElement.classList.add("date-wrapper"),this.$dailyElement.style.width=e+"%",this.postitList=JSON.parse(JSON.stringify(n)),this.props=s,this.postitList.reverse()};const y=function(t,e,n,s){var a=this;this.monthEndDay=[31,28,31,30,31,30,31,31,30,31,30,31],this.dailyScheduleJob=[],this.scheduleList=[],this.checkLeapYear=function(t){return t%400==0||t%100!=0&&t%4==0},this.changeYearMonth=function(){return t=a,e=void 0,s=function(){var t,e,n,s;return function(t,e){var n,s,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,s&&(a=2&o[0]?s.return:o[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,o[1])).done)return a;switch(s=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,s=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],s=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}}(this,(function(a){for(t=this.monthEndDay[this.month-1],2===this.month&&this.isLeap&&(t=29),e=(100/t).toFixed(2),n=1;n<=t;n++)s=n<10?"0"+n:n,this.scheduleList.push(new v("".concat(this.year,"-").concat(this.month,"-").concat(s),e,this.postitList,this.props));return this.render(),[2]}))},new((n=void 0)||(n=Promise))((function(a,o){function i(t){try{d(s.next(t))}catch(t){o(t)}}function r(t){try{d(s.throw(t))}catch(t){o(t)}}function d(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,r)}d((s=s.apply(t,e||[])).next())}));var t,e,n,s},this.render=function(){a.scheduleList.forEach((function(t){a.$monthList.appendChild(t.getDailyElement())}))},this.getMonthWrapper=function(){return a.changeYearMonth(),a.scheduleList=[],a.$monthWrapper.innerHTML="",a.$monthWrapper.appendChild(a.$monthTitle),a.$monthWrapper.appendChild(a.$monthList),a.$monthWrapper},this.postitList=n,this.props=s,this.month=Number(e<10?"0"+e:e),this.year=t,this.isLeap=this.checkLeapYear(t),this.$monthWrapper=document.createElement("li");var o=e<10?"0"+e:e;this.$monthWrapper.id="".concat(t,"-").concat(o),this.$monthWrapper.classList.add("month-wrapper"),this.$monthTitle=document.createElement("div"),this.$monthTitle.classList.add("month-title"),this.$monthTitle.innerText="".concat(t,"년 ").concat(e,"월"),this.$monthList=document.createElement("div"),this.$monthList.classList.add("month")};var $=function(){return $=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},$.apply(this,arguments)};const S=function(t){var e=this;this.state={postitList:[],minDateTime:"",maxDateTime:d()().format("YYYY-MM"),monthList:[],dateOptions:{},toDay:d()().format("YYYY-MM"),selectedYear:"",selectedMonth:"",dontMoveScroll:""},this.show=function(){return t=e,n=void 0,a=function(){return function(t,e){var n,s,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,s&&(a=2&o[0]?s.return:o[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,o[1])).done)return a;switch(s=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,s=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],s=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}}(this,(function(t){return this.fetchData(),this.$CalenderModal.style.display="",this.$CalenderModalDimmed.style.display="",[2]}))},new((s=void 0)||(s=Promise))((function(e,o){function i(t){try{d(a.next(t))}catch(t){o(t)}}function r(t){try{d(a.throw(t))}catch(t){o(t)}}function d(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(t){t(n)}))).then(i,r)}d((a=a.apply(t,n||[])).next())}));var t,n,s,a},this.hide=function(){e.$CalenderModal.style.display="none",e.$CalenderModalDimmed.style.display="none"},this.fetchData=function(){e.state=$($({},e.state),{postitList:[],minDateTime:"",maxDateTime:d()().format("YYYY-MM"),monthList:[],dateOptions:{},selectedYear:e.state.toDay.split("-")[0],selectedMonth:e.state.toDay.split("-")[1],toDay:d()().format("YYYY-MM")});var t=e.state.postitList;i(s.PAGE_LIST).forEach((function(e){i("".concat(s.POSTIT_PAGE,"_").concat(e.id)).forEach((function(e){var n=e.state;t.push(n)}))})),t.sort((function(t,e){var n=d()(t.created_date).year(),s=d()(e.created_date).year();if(n>s)return 1;if(n<s)return-1;var a=d()(t.created_date).month(),o=d()(e.created_date).month();return a>o?1:a<o?-1:d()(t.created_date).date()>d()(e.created_date).date()?1:-1})),e.state.minDateTime=d()(t[0].created_date).format("YYYY-MM"),e.fetchYearMonth(),e.render()},this.render=function(){e.$ScheduleWrapper.innerHTML="",e.state.monthList.forEach((function(t,n){e.$ScheduleWrapper.appendChild(t.getMonthWrapper())}));var t=Object.keys(e.state.dateOptions);e.$CalenderYearSelector.innerHTML="\n    ".concat(t.map((function(t){return'<option value="'.concat(t,'">').concat(t,"</option>")})).join(""),"\n    "),e.setYear(e.state.selectedYear)},this.setYear=function(t){var n=Object.keys(e.state.dateOptions[t]);e.$CalenderMonthSelector.innerHTML="\n    ".concat(n.map((function(t){var n=Number(t)<10?"0"+t:t;return'<option value="'.concat(n,'" ').concat(e.state.selectedMonth===n?"selected":""," >").concat(n,"</option>")})).join(""),"\n    "),e.changePageMove("".concat(e.state.selectedYear,"-").concat(e.state.selectedMonth))},this.setMonth=function(t){e.changePageMove("".concat(e.state.selectedYear,"-").concat(t))},this.changePageMove=function(t){var n=document.getElementById(t),s=t.split("-")[1];s!==e.state.dontMoveScroll&&(setTimeout((function(t){var e=n.getBoundingClientRect().x;document.getElementsByClassName("modal-body")[0].scroll(e,0)}),200),e.state.dontMoveScroll=s)},this.fetchYearMonth=function(){for(var t=d()(e.state.maxDateTime).diff(e.state.minDateTime,"year"),n=Number(d()(e.state.minDateTime).format("YYYY")),s=Number(d()(e.state.minDateTime).format("MM")),a=Number(d()(e.state.maxDateTime).format("YYYY")),o=Number(d()(e.state.maxDateTime).format("MM")),i=n;i<=n+t;i++){e.state.dateOptions[i]||(e.state.dateOptions[i]={});for(var r=i===n?s:1;r<=12;r++){var c=!!e.state.dateOptions[i][r];if(i===a&&r===o+1)break;c||(e.state.dateOptions[i][r]=r,e.state.monthList.push(new y(i,r,e.state.postitList,e.props)))}}},this.checkLeapYear=function(t){return t%400==0||t%100!=0&&t%4==0},this.props=$($({},t),{modalHide:this.hide}),this.$CalenderModal=document.querySelector(".calender-modal"),this.$CalenderModalDimmed=document.querySelector(".calender-dimmed"),this.$CalenderCloseButton=this.$CalenderModal.querySelector(".modal-close-button"),this.$ScheduleWrapper=document.querySelector(".schedule-wrapper"),this.$CalenderModalDimmed.addEventListener("click",this.hide),this.$CalenderCloseButton.addEventListener("click",this.hide),this.$CalenderMonthSelector=document.querySelector(".month-selector"),this.$CalenderYearSelector=document.querySelector(".year-selector"),this.state.selectedYear=this.state.toDay.split("-")[0],this.state.selectedMonth=this.state.toDay.split("-")[1],this.$CalenderYearSelector.value=this.state.selectedYear,this.$CalenderMonthSelector.value=this.state.selectedMonth,this.$CalenderYearSelector.addEventListener("change",(function(){e.setYear(e.$CalenderYearSelector.value)})),this.$CalenderMonthSelector.addEventListener("change",(function(){e.setMonth(e.$CalenderMonthSelector.value)})),this.hide()};var P=function(){return P=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},P.apply(this,arguments)};const _=function(t,n){var a=this;this.addNewPage=function(){var t=a.state,e=t.pageList,n=t.maxPageId,i=(a.state=P(P({},a.state),{maxPageId:n+1}),a.state.maxPageId);e.push({id:i,pageName:"untitled_".concat(i),totalCount:0,doingCount:0,doneCount:0});var r=a.state.pageList.find((function(t){return t.id===n+1}));a.state.selectedPageId=a.state.maxPageId,a.state.selectedPageInfo=r,o(s.PAGE_LIST,e),a.setState(a.state)},this.updateTab=function(t,e){if(e){var n=a.state.pageList.find((function(e){return e.id===t}));n.pageName=e;var r=P(P({},a.state),{selectedPageInfo:n}),d=i("".concat(s.POSTIT_PAGE,"_").concat(t)).map((function(n){return n.state.pageName=e,n.state.pageId=t,n}));o("".concat(s.POSTIT_PAGE,"_").concat(t),d),o(s.PAGE_LIST,a.state.pageList),a.setState(r)}},this.deletePage=function(t){var e=a.state,n=e.pageList,i=e.selectedPageId,r=n.findIndex((function(e){return e.id===t}));if(i===t){if(1===n.length)return void alert("마지막 페이지는 삭제할 수 없습니다.");a.state.selectedPageId=n[r-1].id}var d,c=n.splice(r,1)[0];o(s.PAGE_LIST,n),d="".concat(s.POSTIT_PAGE,"_").concat(c.id),localStorage.removeItem(d),a.setState(a.state)},this.clickPageTab=function(t){var e=P(P({},a.state),{selectedPageId:t,selectedPageInfo:a.state.pageList.find((function(e){return e.id===t}))});a.setState(e)},this.setState=function(t){a.state=P(P({},a.state),t),a.NavComponent.setState(a.state),a.BodyComponent.setState(a.state),a.ProgressBarComponent.setState(a.state)},this.$App=t,this.state=n,this.HeaderComponent=this.$App.querySelector(".postit-header"),this.$CalenderButton=this.$App.querySelector(".calender-button"),this.NavComponent=new e(this.$App.querySelector(".postit-page-nav"),this.state,{addNewPage:this.addNewPage,deletePage:this.deletePage,clickPageTab:this.clickPageTab,updateTab:this.updateTab}),this.BodyComponent=new f(this.$App.querySelector(".postit-body-page"),this.state,{reRenderPage:this.setState}),this.ProgressBarComponent=new m(this.$App.querySelector(".postit-progress-bar"),this.state),this.CalenderComponent=new S({clickPageTab:this.clickPageTab}),this.$CalenderButton.addEventListener("click",(function(t){a.CalenderComponent.show()}))};i(s.PAGE_LIST)||(o(s.PAGE_LIST,[{id:1,pageName:"포스트잇 개발",totalCount:1,doingCount:0,doneCount:0}]),o("".concat(s.POSTIT_PAGE,"_").concat(1),[{state:{postit_id:10,contents:"\n메인페이지 개발\n- 네비\n- 메인\n- 모달",status:"done",pos_X:909,pos_Y:126,created_date:"2022-03-10 21:36",doing_date:"2022-03-11 21:37",done_date:"2022-03-18 21:43",pageId:1,pageName:"포스트잇 개발"}},{state:{postit_id:11,contents:"\n프로세스바 개발\n- 포스트잇 삭제\n- 포스트잇 수정\n- 포스트잇 추가",status:"done",pos_X:1022,pos_Y:311,created_date:"2022-03-12 21:36",doing_date:"2022-04-01 21:37",done_date:"2022-04-10 21:43",pageId:1,pageName:"포스트잇 개발"}},{state:{postit_id:12,contents:"\n캘린더 개발\n- Fetch데이터\n- 가로로 그리기",status:"done",pos_X:975,pos_Y:200,created_date:"2022-04-20 21:37",doing_date:"2022-04-20 21:37",done_date:"2022-04-20 21:43",pageId:1,pageName:"포스트잇 개발"}},{state:{postit_id:15,contents:"\n애니메이션 개선\n\n- 포스트잇 상태 변경 \n배경변경 애니메이션\n- 코드 리팩토링",status:"todo",pos_X:298,pos_Y:144,created_date:"2022-03-20 21:37",doing_date:null,done_date:null,pageId:1,pageName:"포스트잇 개발"}},{state:{postit_id:16,contents:"\n타입스크립트 공부하기",status:"doing",pos_X:577,pos_Y:141,created_date:"2022-03-20 21:37",doing_date:"2022-04-01 21:43",done_date:null,pageId:1,pageName:"포스트잇 개발"}},{state:{postit_id:18,contents:"리엑트 & Nextjs\n공부하기",status:"doing",pos_X:671,pos_Y:328,created_date:"2022-04-10 21:37",doing_date:"2022-04-20 21:43",done_date:null,pageId:1,pageName:"포스트잇 개발"}},{state:{postit_id:20,contents:"\n디자인 & 기능 개선\n\n- 앱 전반적인 디자인\n- 포스트잇 토글 디자인\n- 추가 기능들?",status:"todo",pos_X:335,pos_Y:272,created_date:"2022-04-20 21:38",doing_date:null,done_date:null,pageId:1,pageName:"포스트잇 개발"}}]));var T,b=document.querySelector(".app"),M={pageList:[]};(T=i(s.PAGE_LIST))||o(s.PAGE_LIST,T=[{id:1,pageName:"untitled",totalCount:0,doingCount:0,doneCount:0}]),M.pageList=T,M.lastPageId=T[T.length-1].id,M.selectedPageId=T[T.length-1].id,M.selectedPageInfo=T[T.length-1],M.maxPageId=Math.max.apply(Math,T.map((function(t){return t.id}))),new _(b,M)})()})();