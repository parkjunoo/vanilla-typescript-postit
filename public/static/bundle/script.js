(()=>{"use strict";function t(t){document.addEventListener("mousemove",e);var n=t.target.parentElement,r=document.querySelectorAll(".postit"),i=n.classList;if(!i.contains("hold")){var o=t.clientX,l=t.clientY,u=n.getBoundingClientRect(),a=o-u.x,s=l-u.y;n.setAttribute("gap-x",String(a)),n.setAttribute("gap-y",String(s));var d=String((r.length>0?Math.max.apply(null,Array.from(r).map((function(t){return Number(t.getAttribute("priority"))}))):9999)+1);n.setAttribute("priority",d),n.style.zIndex=d,i.add("hold")}}function e(t){t.preventDefault();var e=document.querySelector(".postit.hold");if(e){var n=t.clientX,r=t.clientY,i=e.getAttribute("gap-x"),o=e.getAttribute("gap-y"),l=n-Number(i),u=r-Number(o);e.style.left=l+"px",e.style.top=u+"px"}}var n=document.querySelector(".postit-stk"),r=document.querySelector(".main-section");function i(){document.querySelectorAll(".postit").forEach((function(e,n){var r=e.getAttribute("priority");r||(r=n+1,e.setAttribute("priority",r)),e.style["z-index"]=r,e.addEventListener("mousedown",t)}))}null==n||n.addEventListener("drop",(function(t){})),null==n||n.addEventListener("dragend",(function(t){console.log("!!!!!!!!!!!!!!!!!!",t);var e=document.createElement("div");e.classList.add("postit"),e.innerHTML='\n  <div class="postit-top-area" ></div>\n  <div\n  class="postit-contents-area"\n  >안녕하세요</div>\n  ',null==r||r.appendChild(e);var n=t.clientX,o=t.clientY;e.style.left=n+"px",e.style.top=o+"px",i()})),null==r||r.addEventListener("dragover",(function(t){console.log(t.target)})),document.addEventListener("mouseup",(function(t){document.removeEventListener("mousemove",e),t.preventDefault();var n=document.querySelector(".postit.hold");n&&(n.removeAttribute("gap-x"),n.removeAttribute("gap-y"),n.classList.remove("hold"))})),i()})();